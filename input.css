@tailwind base;
@tailwind components;
@tailwind utilities;
@layer base {
    body { 
        background-color: theme('colors.dark-bg'); 
        color: theme('colors.white'); 
    }
    pre, code {
        font-family: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;
        font-size: 0.9em;
    }
    pre {
        background-color: theme('colors.dark-bg');
        border-radius: 0.5rem;
        padding: 1rem;
        overflow-x: auto;
        border: 1px solid theme('colors.slate / 50%');
    }
}

@layer components {
    header.scrolled {
        background-color: theme('colors.dark-bg/90');
        backdrop-filter: blur(16px);
    }
    
    #preloader {
        position: fixed;
        top: 0;
        left: 0; 
        width: 100%;
        height: 100%;
        background-color: theme('colors.dark-bg');
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .loader { 
        border: 8px solid theme('colors.slate');
        border-top: 8px solid theme('colors.accent-orange');
        border-radius: 50%; 
        width: 60px;
        height: 60px;
        animation: spin 2s linear infinite;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .section-title { font-family: theme('fontFamily.serif'); color: theme('colors.true-white'); }
    .card { background-color: theme('colors.card-bg'); border: 1px solid theme('colors.slate / 50%'); transition: all 0.3s ease-in-out; }
    .card:hover { border-color: theme('colors.accent-orange'); transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(251, 191, 36, 0.1), 0 4px 6px -2px rgba(251, 191, 36, 0.05); }
    .nav-link { transition: color 0.3s, border-bottom-color 0.3s; border-bottom: 2px solid transparent; padding-bottom: 4px; }
    .nav-link:hover, .nav-link.active { color: theme('colors.accent-orange'); }
    .tag { background-color: theme('colors.slate / 50%'); color: theme('colors.white'); }
    .publication-link { color: theme('colors.accent-orange'); text-decoration: none; transition: color 0.2s; }
    .publication-link:hover { color: theme('colors.accent-orange / 80%'); }
    .timeline { position: relative; padding-left: 1.5rem; }
    .timeline::before { content: ''; position: absolute; left: 0; top: 0.25rem; bottom: 0.25rem; width: 2px; background-color: theme('colors.slate / 50%'); }
    .timeline-item { position: relative; margin-bottom: 2.5rem; }
    .timeline-item:last-child { margin-bottom: 0; }
    .timeline-dot { position: absolute; left: -2.0625rem; top: 0.25rem; height: 1rem; width: 1rem; background-color: theme('colors.accent-orange'); border-radius: 50%; border: 2px solid theme('colors.card-bg'); }
    .cta-button { transition: all 0.3s ease; }
    .cta-button:hover { background-color: theme('colors.accent-orange'); color: theme('colors.dark-bg'); transform: translateY(-3px); box-shadow: 0 4px 6px theme('colors.accent-orange / 20%'); }
    .social-icon { transition: transform 0.2s ease-in-out, color 0.2s ease-in-out; color: theme('colors.light-slate'); }
    .social-icon:hover { transform: translateY(-3px) scale(1.1); color: theme('colors.accent-orange'); }
    .card-link { display: block; text-decoration: none; color: inherit; height: 100%; }
    .dropdown-menu {
        background-color: theme('colors.card-bg');
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }
    
    .markdown-table {
        width: 100%;
        border-collapse: collapse;
    }
    .markdown-table th, .markdown-table td {
        border: 1px solid theme('colors.slate / 50%');
        padding: 0.75rem 1rem;
        text-align: left;
    }
    .markdown-table th {
        background-color: theme('colors.slate / 50%');
        color: theme('colors.true-white');
        font-weight: 600;
    }
    .markdown-table tbody tr:nth-child(odd) {
        background-color: theme('colors.card-bg');
    }
     .markdown-table tbody tr:nth-child(even) {
        background-color: #384256;
    }
    
    .sitemap-link { display: block; padding: 0.75rem 1.5rem; background-color: #2d3748; border-left: 4px solid transparent; transition: all 0.3s ease; color: #e2e8f0; }
    .sitemap-link:hover { border-left-color: theme('colors.accent-orange'); background-color: theme('colors.slate / 50%'); transform: translateX(5px); }
    .external-link { display: flex; align-items: center; padding: 0.75rem 1.5rem; background-color: #2d3748; transition: all 0.3s ease; color: #a8b2d1; }
    .external-link:hover { background-color: theme('colors.slate / 50%'); color: theme('colors.accent-orange'); }
}